<div class="container">
  <div class="content">
    <div class="content_rgt">
      <div class="rght_btn" (click)="uploadPost()"> <span class="rght_btn_icon"><img src="../../../assets/images/btn_iconb.png" alt="up" /></span> <span class="btn_sep"><img src="../../../assets/images/btn_sep.png" alt="sep" /></span> <a >Upload Question</a> </div>
      <!-- <div class="rght_btn"> <span class="rght_btn_icon"><img src="../../../assets/images/btn_icona.png" alt="up" /></span> <span class="btn_sep"><img src="../../../assets/images/btn_sep.png" alt="sep" /></span> <a href="#">Invite Friends</a> </div> -->
      <div class="rght_cate">
        <div class="rght_cate_hd" id="rght_cat_bg" style="text-align: center;">Categories</div>
        <div class="rght_list">
          <ul>
            <li style="text-align: center;"><a (click)="filterPosts('all')" class=" all-post "><span
              class="list_icon"></span><span class="all-post-text">All Posts</span></a></li>
            <li><a (click)="filterPosts('maths')"><span class="list_icon"><img src="../../../assets/images/math2.png" alt="up" /></span> Maths</a></li>
            <li><a (click)="filterPosts('physics')"><span class="list_icon"><img src="../../../assets/images/phy1.jpeg" alt="up" /></span> Physics</a></li>
            <li><a (click)="filterPosts('chemistry')"><span class="list_icon"><img src="../../../assets/images/chemist.png" alt="up" /></span> Chemistry</a></li>
            <li><a (click)="filterPosts('computer')"><span class="list_icon"><img src="../../../assets/images/cmp2.png" alt="up" /></span> Computer Science</a></li>
            <li><a (click)="filterPosts('others')"><span class="list_icon"><img src="../../../assets/images/other.jpeg" alt="up" /></span> Others</a></li>
          </ul>
        </div>
      </div>
      <div class="rght_cate">
        <div class="rght_cate_hd" id="opn_cat_bg" (click)="onClickFeatured()">Featured</div>
        <div class="sub_dwn" *ngFor="let post of featureArr">
          <div class="feat_sec">
            <div class="feat_sec_img"><img  [src]="post.imagePath" alt="image" /></div>
            <div class="feat_txt">{{post.title}}</div>
            <div class="btm_rgt">
              <div class="btm_arc">{{post.petType}}</div>
            </div>
          </div>
          <!-- <div class="feat_sec">
            <div class="feat_sec_img"><img src="../../../assets/images/feat_img2.png" alt="image" /></div>
            <div class="feat_txt">Lorem Ipusum Text</div>
            <div class="btm_rgt">
              <div class="btm_arc">Dogs</div>
            </div>
          </div>
          <div class="feat_sec">
            <div class="feat_sec_img"><img src="../../../assets/images/feat_img3.png" alt="image" /></div>
            <div class="feat_txt">Lorem Ipusum Text</div>
            <div class="btm_rgt">
              <div class="btm_arc">Rabbits</div>
            </div>
          </div> -->
        </div>
      </div>
    </div>
    <div id="loading" *ngIf="isLoading" ></div>
    <div class="content_lft" *ngIf="!isLoading && loadPage === 'homeSection'" >
      <div class="contnt_1">
        <div class="list_1">
          <ul>
            <!-- <li>
              <input type="checkbox" class="chk_bx">
              Friends</li> -->
            <li>
              <input
                type="checkbox"
                class="chk_bx"
                [(ngModel)]="isChecked"
                (change)="onFlagCheckChange($event)"
                #flagCheck>
              Flagged</li>
          </ul>
        </div>

        <div class="post_div" *ngIf="!myProfile" >
          <div class="post_list">
            <ul>
              <li [ngClass]="{'list-css': sortBySelected === 'latest'}"><a (click)="sortBy('latest')"><span class="list_img"><img src="../../../assets/images/img_1.png"></span><span [ngStyle]="{'font-weight': sortBySelected === 'latest' ? '900': 'normal' }">Latest First</span></a></li>
              <li [ngClass]="{'list-css': sortBySelected === 'oldest'}"><a (click)="sortBy('oldest')"><span class="list_img"><img src="../../../assets/images/img_2.png"></span><span [ngStyle]="{'font-weight': sortBySelected === 'oldest' ? '900': 'normal' }">Oldest First</span></a></li>
              <li [ngClass]="{'list-css': sortBySelected === 'mostFlaged'}"><a (click)="sortBy('mostFlaged')"><span class="list_img"><img src="../../../assets/images/img_3.png"></span><span [ngStyle]="{'font-weight': sortBySelected === 'mostFlaged' ? '900': 'normal' }">Most Flaged</span></a></li>
              <li [ngClass]="{'list-css': sortBySelected === 'mostLikes'}"><a (click)="sortBy('mostLikes')"><span class="list_img"><img src="../../../assets/images/img_4.png"></span><span [ngStyle]="{'font-weight': sortBySelected === 'mostLikes' ? '900': 'normal' }">Most Likes</span></a></li>
              <li [ngClass]="{'list-css': sortBySelected === 'mostComments'}"><a (click)="sortBy('mostComments')"><span class="list_img"><img src="../../../assets/images/img_2.png"></span><span [ngStyle]="{'font-weight': sortBySelected === 'mostComments' ? '900': 'normal' }">Most Comments</span></a></li>
            </ul>
          </div>
          <div class="post_txt">4 New Post Updates</div>
        </div>

        <div class="timeline_div" *ngIf="myProfile" >
          <div class="timeline_div1">
            <div class="profile_pic">
              <img src="../../../assets/images/timeline_img1.png">
              <div class="profile_text"><a href="#">Change Profile Pic</a></div>
            </div>
            <div class="profile_info">
              <div class="edit_div"><a (click)="myProfileUpdate()">Edit <img src="../../../assets/images/timeline_img.png"></a></div>
              <div class="profile_form">
                <ul>
                 <li>
                   <div class="div_name1">Name :</div>
                   <div class="div_name2">{{username}}</div>
                 </li>
                 <li>
                   <div class="div_name1">Sex :</div>
                   <div class="div_name2">Male</div>
                 </li>
                 <li>
                   <div class="div_name1">Description :</div>
                   <div class="div_name3">This is an example of a comment. You can create as many comments like this one
or sub comments as you like and manage all of your content inside Account.</div>
                 </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="timeline_div2">
            <ul>
              <li><a href="#" class="active">Timeline   </a></li>
              <li><a href="#">About </a></li>
              <li><a href="#">Album </a></li>
              <li><a href="#"> Pets </a></li>
               <li><a href="#">My Uploads </a></li>
            </ul>
          </div>
       </div>

      </div>
      <div *ngIf="posts.length>0" class="post">
        <div class="contnt_2" *ngFor="let post of posts  | paginate: { id:'listing_pagination',
          itemsPerPage: postsPerPage,
          currentPage: currPage,
          totalItems: totalPosts }; let i=index" >
          <div
            class="div_a"
            (dblclick)="selectPost(post._id)">
            <div class="div_title"> {{post.title}} </div>
            <div class="btm_rgt">
              <div class="btm_arc" >{{post.petType}}</div>
            </div>
            <div class="div_top">
              <div class="div_top_lft"><img src="../../../assets/images/img_6.png">{{ post.creatorName }}</div>
              <div class="div_top_rgt"><span class="span_date">{{ post.createdOn | date }}</span><span class="span_time">{{ post.createdOn | date: 'shortTime' }}</span></div>
            </div>
            <div class="div_image"><img [src]="post.imagePath" alt="pet" /></div>
            <div class="div_btm">
              <div class="btm_list">
                <ul>
                  <!-- <li><a href="#"><span class="btn_icon"><img src="../../../assets/images/icon_001.png" alt="share" /></span>Share</a></li> -->
                  <li *ngIf="isAdmin"><a (click)="featurePost(post._id, i)"><span class="btn_icon"><img /></span>{{ post.featureCount }} Feature</a></li>

                  <li><a (click)="flagPost(post._id, i)"><span class="btn_icon"><img src="../../../assets/images/icon_002.png" alt="share" /></span><span > {{ post.flagCount }} {{ flagStatus[i] }}</span></a></li>

                  
                  <li><a [routerLink]="['/post/home',post._id]"><span class="btn_icon"><img src="../../../assets/images/icon_004.png" alt="share" /></span>{{ post.commentCount }} Comments</a></li>
                  <li><a (click)="likePosts(post._id, i)"><span class="btn_icon" ><img src="../../../assets/images/icon_003.png" alt="share" /></span><span >{{ likeStatus[i] }}</span></a></li>


                  <div class="like_count" style="margin-right: 10px;
                  cursor: pointer;"><span class="lft_cnt"></span><span class="mid_cnt" >{{ post.likeCount }}</span><span class="rit_cnt" ></span></div>
                  <li><a (click)="unlikePosts(post._id, i)"><span class="btn_icon"><img src="../../../assets/images/icon_003.png" alt="share" /></span><span >{{ unlikeStatus[i] }}</span></a></li>

                  <div class="like_count" style="margin-right: 10px;
                  cursor: pointer;"><span class="lft_cnt"></span><span class="mid_cnt">{{ post.unlikeCount }}</span><span class="rit_cnt"></span></div>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <pagination-controls
          class="paginator"
          id="listing_pagination"
          maxSize="5"
          directionLinks="true"
          (pageChange)="onChangedPage($event)"
          *ngIf="posts.length > 0" >
          </pagination-controls
          >
      </div>
      <div
        *ngIf="posts.length === 0"
         class="empty">
        No Posts added yet
      </div>
    </div>
    <div class="content_lft" *ngIf="loadPage === 'commentSection' && !isLoading" >
      <div class="contnt_2">
        <div class="div_a">
          <div class="div_title">{{currPost.title}}</div>
          <div class="btm_rgt">
              <div class="btm_arc">{{currPost.petType}}</div>
         </div>
         <div class="div_top">
            <div class="div_top_lft"><img src="../../../assets/images/img_6.png">{{ currPost.creatorName }}</div>
            <div class="div_top_rgt"><span class="span_date">{{ currPost.createdOn | date }}</span><span class="span_time">{{ currPost.createdOn | date: 'shortTime' }}</span></div>
          </div>
          <div class="div_image"><img [src]="currPost.imagePath" alt="pet" /></div>
          <div class="div_btm">
          </div>
        </div>
      </div>
      <div class="contnt_3">
        <ul *ngFor="let comment of postComments; let i= index" >
          <li (dblclick)="selectComment(comment.comments._id)">
            <div class="delete-button-container" *ngIf="isCommentSelected && comment.comments._id === selectedCommentId" >
              <img class="delete-button" src="../../../assets/images/cancel.png" alt="delete" (click)="deleteComment(comment.comments._id)" >
            </div>
            <div class="list_image">
              <div class="image_sec"><img src="../../../assets/images/post_img.png"></div>
              <div class="image_name">{{comment.comments.creatorName}}</div>
            </div>
            <div class="list_info">
            {{ comment.comments.comment }}
            </div>
          </li>
        </ul>
        <div class="cmnt_div1">
          <input type="text" value="Enter your Comment" placeholder="Enter your comment here..." class="cmnt_bx1" [(ngModel)]="comment" (keydown)='onEnterPress(comment,$event)'>
          <input type="button" class="sub_bttn1" value="Submit Comment" (click)="submitComment(comment)" [disabled]='comment === "" '>
        </div>
        <div class="view_div"><a (click)="viewMoreComments()">View more</a></div>
      </div>
    </div>
  </div>
  <div class="clear"></div>
</div>
